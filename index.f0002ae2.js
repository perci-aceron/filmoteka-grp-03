const e=[{id:28,name:"Action"},{id:12,name:"Adventure"},{id:16,name:"Animation"},{id:35,name:"Comedy"},{id:80,name:"Crime"},{id:99,name:"Documentary"},{id:18,name:"Drama"},{id:10751,name:"Family"},{id:14,name:"Fantasy"},{id:36,name:"History"},{id:27,name:"Horor"},{id:10402,name:"Music"},{id:9648,name:"Mystery"},{id:10749,name:"Romance"},{id:878,name:"Science Fiction"},{id:10770,name:"TV Movie"},{id:53,name:"Thriller"},{id:10752,name:"War"},{id:37,name:"War"}];function t(){const e=document.getElementById("loader");e&&(e.style.display="inline-block")}function n(){const e=document.getElementById("loader");e&&(e.style.display="none")}const a=document.getElementById("movie-container"),i=document.getElementById("pagination-container");let o=1;async function c(c,l){t();try{const t=await fetch(`https://api.themoviedb.org/3/discover/movie?sort_by=popularity.desc&api_key=9ce408291b177c2a2e598968d33c0b4a&page=${c}`),m=await t.json();n();const r=m.total_results;!function(t){a.innerHTML=" ",t.forEach((t=>{const{title:n,poster_path:i,genre_ids:o,release_date:c}=t,d=document.createElement("div");var s,l;d.classList.add("movie-card"),d.innerHTML=`<img src ="https://image.tmdb.org/t/p/w500${i} alt="${n}"/>\n            <div class="movie-card-text">\n            <h2 class="movie-title">${n}</h2>\n            <p class="movie-card-genre">${l=o,l.map((t=>e.find((e=>e.id===t)).name)).join(",")} \n            <span class="movie-release">| ${s=c,new Date(s).getFullYear()}</span>\n            </p>\n            </div>`,a.appendChild(d)}))}(m.results.slice(0,l)),function(e,t){i.innerHTML="";let n=Math.max(1,o-Math.floor(2.5)),a=Math.min(e,n+5-1);if(a-n+1<5&&(n=Math.max(1,a-5+1)),n>1){const e=document.createElement("button");if(e.textContent="1",e.addEventListener("click",(()=>{s(1)})),i.appendChild(e),n>3){const e=document.createElement("span");e.textContent="...",i.appendChild(e)}}for(let e=n;e<=a;e++){const t=document.createElement("button");t.textContent=e,t.addEventListener("click",(()=>{s(e)})),i.appendChild(t)}if(a<e)if(e-a>3){const t=document.createElement("span");t.textContent="...",i.appendChild(t);const n=document.createElement("button"),o=Math.min(e,a+3);n.textContent=o,n.addEventListener("click",(()=>{s(o)})),i.appendChild(n)}else{const t=document.createElement("button");t.textContent=e,t.addEventListener("click",(()=>{s(e)})),i.appendChild(t)}d()}(m.total_pages),console.log(m),console.log(r)}catch(e){n(),console.error(e)}}function d(){i.querySelectorAll("button").forEach(((e,t)=>{t+1===o?e.classList.add("clicked"):e.classList.remove("clicked")}))}function s(e){o=e,c(o,18),d()}c(o,18);c(1,18),t(),setTimeout((()=>{n()}),3e3);
//# sourceMappingURL=index.f0002ae2.js.map
